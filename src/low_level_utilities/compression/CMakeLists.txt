ADD_LIBRARY( sll_compression STATIC zfp_wrapper.c sll_m_compression.F90 )
SET( COMPRESSION_DEPS sll_working_precision )

IF(ZFP_LIBRARIES)
  LIST(APPEND COMPRESSION_DEPS ${ZFP_LIBRARIES} )
ENDIF()

TARGET_LINK_LIBRARIES( sll_compression ${COMPRESSION_DEPS} )

IF(ZFP_LIBRARIES)
  IF(BUILD_TESTING)
    ADD_SUBDIRECTORY( testing )
  ENDIF(BUILD_TESTING)
ENDIF()
