IF(Fortran_COMPILER STREQUAL "GFORTRAN")
  SET(CMAKE_Fortran_FLAGS "-O3 -fdefault-real-8 -ffree-line-length-none -fall-intrinsics")
ENDIF()
IF(Fortran_COMPILER STREQUAL "INTEL")
  SET(CMAKE_Fortran_FLAGS "-O3 -xHost -r8")
ENDIF()

ADD_LIBRARY(mudpack STATIC cud2.f cud24.f cud24cr.f cud24sp.f cud2cr.f cud2sp.f cud3.f cud34.f cud34sp.f cud3cr.f cud3ln.f cud3pn.f cud3sp.f cudcom.f cuh2.f cuh24.f cuh24cr.f cuh2cr.f cuh3.f cuh34.f mud2.f mud24.f mud24cr.f mud24sp.f mud2cr.f mud2sa.f mud2sp.f mud3.f mud34.f mud34sp.f mud3cr.f mud3ln.f mud3pn.f mud3sa.f mud3sp.f mudcom.f muh2.f muh24.f muh24cr.f muh2cr.f muh3.f muh34.f resc2.f resc2cr.f resc2sp.f resc3.f resc3sp.f resm2.f resm2cr.f resm2sp.f resm3.f resm3cr.f resm3sp.f)


ADD_EXECUTABLE( tcud2		tcud2.f)
ADD_EXECUTABLE( tcud24		tcud24.f)
ADD_EXECUTABLE( tcud24cr	tcud24cr.f)
ADD_EXECUTABLE( tcud24sp	tcud24sp.f)
ADD_EXECUTABLE( tcud2cr		tcud2cr.f)
ADD_EXECUTABLE( tcud2sp		tcud2sp.f)
ADD_EXECUTABLE( tcud3 		tcud3.f)
ADD_EXECUTABLE( tcud34		tcud34.f)
ADD_EXECUTABLE( tcud34sp	tcud34sp.f)
ADD_EXECUTABLE( tcud3cr		tcud3cr.f)
ADD_EXECUTABLE( tcud3sp		tcud3sp.f)
ADD_EXECUTABLE( tcuh2 		tcuh2.f)
ADD_EXECUTABLE( tcuh24		tcuh24.f)
ADD_EXECUTABLE( tcuh24cr	tcuh24cr.f)
ADD_EXECUTABLE( tcuh2cr		tcuh2cr.f)
ADD_EXECUTABLE( tcuh3 		tcuh3.f)
ADD_EXECUTABLE( tcuh34		tcuh34.f)
ADD_EXECUTABLE( tmud2 		tmud2.f)
ADD_EXECUTABLE( tmud24		tmud24.f)
ADD_EXECUTABLE( tmud24cr	tmud24cr.f)
ADD_EXECUTABLE( tmud24sp	tmud24sp.f)
ADD_EXECUTABLE( tmud2cr		tmud2cr.f)
ADD_EXECUTABLE( tmud2sa		tmud2sa.f)
ADD_EXECUTABLE( tmud2sp		tmud2sp.f)
ADD_EXECUTABLE( tmud3   	tmud3.f)
ADD_EXECUTABLE( tmud34		tmud34.f)
ADD_EXECUTABLE( tmud34sp	tmud34sp.f)
ADD_EXECUTABLE( tmud3cr		tmud3cr.f)
ADD_EXECUTABLE( tmud3sa		tmud3sa.f)
ADD_EXECUTABLE( tmud3sp		tmud3sp.f)
ADD_EXECUTABLE( tmuh2 		tmuh2.f)
ADD_EXECUTABLE( tmuh24		tmuh24.f)
ADD_EXECUTABLE( tmuh24cr	tmuh24cr.f)
ADD_EXECUTABLE( tmuh2cr		tmuh2cr.f)
ADD_EXECUTABLE( tmuh3 		tmuh3.f)
ADD_EXECUTABLE( tmuh34		tmuh34.f)


TARGET_LINK_LIBRARIES(tcud2 mudpack)
TARGET_LINK_LIBRARIES(tcud24 mudpack)
TARGET_LINK_LIBRARIES(tcud24cr mudpack)
TARGET_LINK_LIBRARIES(tcud24sp mudpack)
TARGET_LINK_LIBRARIES(tcud2cr mudpack)
TARGET_LINK_LIBRARIES(tcud2sp mudpack)
TARGET_LINK_LIBRARIES(tcud3 mudpack)
TARGET_LINK_LIBRARIES(tcud34 mudpack)
TARGET_LINK_LIBRARIES(tcud34sp mudpack)
TARGET_LINK_LIBRARIES(tcud3cr mudpack)
TARGET_LINK_LIBRARIES(tcud3sp mudpack)
TARGET_LINK_LIBRARIES(tcuh2 mudpack)
TARGET_LINK_LIBRARIES(tcuh24 mudpack)
TARGET_LINK_LIBRARIES(tcuh24cr mudpack)
TARGET_LINK_LIBRARIES(tcuh2cr mudpack)
TARGET_LINK_LIBRARIES(tcuh3 mudpack)
TARGET_LINK_LIBRARIES(tcuh34 mudpack)
TARGET_LINK_LIBRARIES(tmud2 mudpack)
TARGET_LINK_LIBRARIES(tmud24 mudpack)
TARGET_LINK_LIBRARIES(tmud24cr mudpack)
TARGET_LINK_LIBRARIES(tmud24sp mudpack)
TARGET_LINK_LIBRARIES(tmud2cr mudpack)
TARGET_LINK_LIBRARIES(tmud2sa mudpack)
TARGET_LINK_LIBRARIES(tmud2sp mudpack)
TARGET_LINK_LIBRARIES(tmud3 mudpack)
TARGET_LINK_LIBRARIES(tmud34 mudpack)
TARGET_LINK_LIBRARIES(tmud34sp mudpack)
TARGET_LINK_LIBRARIES(tmud3cr mudpack)
TARGET_LINK_LIBRARIES(tmud3sa mudpack)
TARGET_LINK_LIBRARIES(tmud3sp mudpack)
TARGET_LINK_LIBRARIES(tmuh2 mudpack)
TARGET_LINK_LIBRARIES(tmuh24 mudpack)
TARGET_LINK_LIBRARIES(tmuh24cr mudpack)
TARGET_LINK_LIBRARIES(tmuh2cr mudpack)
TARGET_LINK_LIBRARIES(tmuh3 mudpack)
TARGET_LINK_LIBRARIES(tmuh34 mudpack)
