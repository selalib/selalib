ADD_LIBRARY( sll_splines STATIC sll_cubic_splines.F90
                                sll_quintic_splines.F90
                                sll_odd_degree_splines.F90
                                sll_arbitrary_degree_splines.F90
           )

ADD_DEPENDENCIES(sll_splines sll_memory 
                             sll_utilities
                             sll_assertion 
                             sll_working_precision)

ADD_LIBRARY(cubic_non_uniform_splines STATIC cubic_nonuniform_splines.F90)

ADD_DEPENDENCIES(cubic_non_uniform_splines 
                             sll_tridiagonal
                             sll_memory 
                             sll_utilities
                             sll_assertion 
                             sll_working_precision)


#libs to link with tests

SET(SPL_LIBS sll_splines 
             sll_utilities 
             sll_memory 
             sll_assertion 
             sll_constants )

#uniform

ADD_EXECUTABLE(test_splines unit_test.F90  
                            test_func_module.F90 
                            util_constants.F90
                            test_processes_module.F90 )

TARGET_LINK_LIBRARIES(test_splines ${SPL_LIBS})

#non uniform

ADD_EXECUTABLE(test_non_unif_splines unit_test_nonuniform.F90 
                                     )

#ADD_EXECUTABLE(test_non_unif_splines unit_test_nonuniform.F90 
#                                     cubic_nonuniform_splines.F90)


TARGET_LINK_LIBRARIES(test_non_unif_splines 
cubic_non_uniform_splines ${SPL_LIBS})

#arbitrary degree

ADD_EXECUTABLE(test_arbitrary_degree_splines unit_test_arbitrary_degree.F90)

TARGET_LINK_LIBRARIES(test_arbitrary_degree_splines ${SPL_LIBS})

#quintic

ADD_EXECUTABLE(test_quintic_splines test_sll_quintic_splines.F90)

IF (LAPACK_LIBRARIES)
   TARGET_LINK_LIBRARIES(test_quintic_splines ${SPL_LIBS} ${LAPACK_LIBRARIES})
ELSE()
   TARGET_LINK_LIBRARIES(test_quintic_splines ${SPL_LIBS})
ENDIF()

#odd degree
ADD_EXECUTABLE(test_odd_degree_splines test_sll_odd_degree_splines.F90)

IF (LAPACK_LIBRARIES)
   TARGET_LINK_LIBRARIES(test_odd_degree_splines ${SPL_LIBS} ${LAPACK_LIBRARIES})
ELSE()
   TARGET_LINK_LIBRARIES(test_odd_degree_splines ${SPL_LIBS})
ENDIF()

